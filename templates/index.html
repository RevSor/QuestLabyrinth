<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>QuestLabyrinthBot</title>
<style>
* {
  box-sizing: border-box;
}
.button {
        background-color: #1c87c9;
        border: none;
        color: white;
        padding: 20px 34px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 20px;
        margin: 4px 2px;
        cursor: pointer;
}
.header {
  padding: 5px; 
  text-align: center; 
  background: #000000; 
  color: white; 
}
.text {
  padding: 1px; 
  text-align: center; 
  background: #000000; 
  color: white; 
}

.header h1 {
  font-size: 40px;
}

.column {
  float: left;
  width: 50%;
  padding: 10px;
  height: 100px; 
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

.right {
  display: block;
  border-radius: 25px;
  opacity: 0.75;
  margin-left: auto;
  margin-right: 5px;
  width: 50%;
}
.left {
  display: block;
  border-radius: 15px;
  opacity: 0.75;
  margin-left: 5px;
  margin-right: auto;
  width: 50%;
}
</style>

<div class="header">
  <h1>@QuestLabyrinthBot</h1>
  <p>Квестовый чат-бот в telegram</p>
</div> 
</head>
<body style="background-color:#000;">
<div class="header">
  <p>Бот уже доступен по ссылке в telegram. Чтобы начать приключение достаточно написать ему.</p>
</div> 

<div class="row">
  <div class="column">
     <img src="bot.jpg" alt="bot" class="right"> 
  </div>
  <div class="column">
     <img src="keyboard.jpg" alt="keyboard" class="left"> 
  </div>
</div>



<script script data-align="right" data-overlay="false" id="keyreply-script" type="text/javascript" data-color="#03A9F4" data-apps="JTdCJTIydGVsZWdyYW0lMjI6JTIyUXVlc3RMYWJ5cmludGhCb3QlMjIlN0Q=">
(function() {
    //Load Stylesheet
    var root = 'https://keyreply.com';
    var head = document.getElementsByTagName('head')[0],
        stylesheet = document.createElement('link');
    stylesheet.type = 'text/css';
    stylesheet.rel = 'stylesheet';
    stylesheet.href = root + '/chat/widget.css';
    head.appendChild(stylesheet);

    setTimeout(function() {
        (window.jQuery && init()) || loadScript("https://code.jquery.com/jquery-3.4.1.min.js", init);
    }, 1000);

    function loadScript(url, callback) {

        var script = document.createElement("script");
        script.type = "text/javascript";

        if (script.readyState) { //IE
            script.onreadystatechange = function() {
                if (script.readyState == "loaded" || script.readyState == "complete") {
                    script.onreadystatechange = null;
                    callback();
                }
            };
        } else { //Others
            script.onload = function() {
                callback();
            };
        }

        script.src = url;
        document.getElementsByTagName("head")[0].appendChild(script);
    }

    function init() {
        var $ = window.jQuery;
        var id = localStorage.getItem('kuid');
        if (!id) {
            id = Math.round(2147483647 * Math.random());
            localStorage.setItem('kuid', id);
        }
        
        var settings = {},
            script = $('#keyreply-script'),
            site = window.location.host,
            salt = '\x26\x63\x69\x64\x3D' + id,
            kga = ["aHR0cHM6Ly9zc2wuZ29vZ2xlLWFuYWx5dGljcy5jb20vY29sbGVjdD92PTEmdGlkPVVBLTU1OTEzMzY2LTEz", "JnQ9cGFnZXZpZXcmZGw9", "JnQ9ZXZlbnQmZWM9aW50ZXJhY3Rpb24mZWE9YWN0aXZhdGU="],
            cipher = script.data('apps'),
            align = script.data('align'),
            whitelabel = script.data('whitelabel'),
            colors = {
                telegram: '#2DA5E1'
            };

        settings.apps = JSON.parse(decodeURI(atob(cipher)));

        settings.tags = {
            page: [atob(kga[0]), atob(kga[1]), site, salt].join(''),
            event: [atob(kga[0]), atob(kga[2]), salt].join('')
        };

        settings.color = script.data('color');
        settings.overlay = script.data('overlay');
        var numberOfApps = Object.keys(settings.apps).length;
        if (!Mobile) {
            if (settings.apps.sms) numberOfApps--;
            if (settings.apps.kakao) numberOfApps--;
        }

        var maxIconCount = Math.floor((window.innerHeight - 130) / 52);

        var anchor = $('<div>')
            .attr('id', 'keyreply-container')
            .appendTo($('body'));

        if (align == 'left') {
            anchor.addClass('left');
        }

        var launcher = $('<div>')
            .addClass('keyreply-launcher')
            .addClass('keyreply-effect')
            .css('background-image', 'url("data:image/svg+xml;charset=utf8,%3Csvg width=\'26\' height=\'26\' viewBox=\'0 0 26 26\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cellipse fill=\'' + escape(settings.color) + '\' cx=\'13\' cy=\'13\' rx=\'12\' ry=\'12\'/%3E%3Cpath d=\'M6.798 15.503l1.453-.92c.617.215 1.29.334 2 .334 2.898 0 5.247-1.996 5.247-4.46 0-2.46-2.35-4.457-5.248-4.457C7.35 6 5 7.996 5 10.458c0 1.446.81 2.73 2.065 3.545l-.503 1.273c-.038.03-.062.076-.062.127 0 .09.074.162.166.162.054 0 .1-.024.132-.062z\' stroke=\'' + escape(settings.color) + '\' stroke-width=\'.2\' fill=\'%23FFF\'/%3E%3Cpath d=\'M20.297 18.97l.04-.065-.578-1.155c1.066-.814 1.737-1.993 1.737-3.305 0-2.455-2.35-4.445-5.248-4.445-2.9 0-5.25 1.99-5.25 4.445s2.35 4.445 5.25 4.445c.838 0 1.63-.167 2.334-.463l1.39.756c.035.05.095.085.163.085.107 0 .194-.085.194-.19 0-.04-.012-.076-.033-.107z\' stroke=\'' + escape(settings.color) + '\' stroke-width=\'.2\' fill=\'%23FFF\'/%3E%3C/g%3E%3C/svg%3E")')
            .css('background-color', settings.color)
            .appendTo(anchor)
            .click(function() {
                launcher.addClass('keyreply-show-effect');
                setTimeout(function() {
                    launcher.removeClass('keyreply-show-effect');
                }, 700);
            });

        if (!whitelabel) {
            var brand = $('<a target="_blank" href="https://keyreply.com/chat/?ref=getwidget"> </a>')
                .addClass('keyreply-brand')
                .appendTo(launcher)
                .click(function(event) {
                    event.stopPropagation();
                });
        }

        var ua = navigator.userAgent;
        var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);
        var Android = !!ua.match(/Android/i);
        var Mobile = !!ua.match(/Mobi/i);
        var Mac = !!ua.match(/Macintosh/i);

        $.get(settings.tags.page);



        //Add overlay

        if (settings.overlay && !Mobile) {
            var overlayMask = $('<div id="keyreply-overlay">').appendTo($('body')).click(function() {
                overlayMask.hide();
            }).hide();

            overlayBody = $('<div>').addClass('overlay-body').appendTo(overlayMask).click(function(event) {
                event.stopPropagation();
            });

            $.each(settings.apps, function(key, value) {
                $('<div>')
                    .addClass('keyreply-overlay-chat-icon')
                    .attr('data-type', key)
                    .css('background-color', colors[key])
                    .append(
                        $('<img>')
                        .attr('src', root + '/chat/images/apps/' + key + '.svg')
                        .attr('alt', key)
                    )
                    .append($('<div class="keyreply-label">').text(key.charAt(0).toUpperCase() + key.slice(1)))

                .appendTo(overlayBody);
            });

            launcher.click(function() {
                overlayMask.fadeIn();
            });

        } else {
            $.each(settings.apps, function(key, value) {
                if (Mobile || (key != 'sms' && key != 'kakao')) {
                    $('<div>')
                        .addClass('keyreply-chat-icon')
                        .attr('data-type', key)
                        .css('background-color', colors[key])
                        .append(
                            $('<img>')
                            .attr('src', root + '/chat/images/apps/' + key + '.svg')
                            .attr('alt', key)
                        )
                        .append($('<div class="keyreply-label">').text(key.charAt(0).toUpperCase() + key.slice(1)))
                        .hide()
                        .appendTo(anchor);
                }
            });


            //Add a more icon
            var more = $('<div>')
                .css('background-color', '#888888')
                .addClass('keyreply-chat-icon')
                .attr('data-type', 'more')
                .append(
                    $('<img>')
                    .attr('src', root + '/chat/images/apps/' + 'more' + '.svg')
                    .attr('alt', 'more')
                )
                .append($('<div class="keyreply-label">').text('More').css('color', 'white'))
                .hide()
                .click(function() {
                    anchor.find('.keyreply-chat-icon').each(function(index, img) {
                        img = $(img);

                        if (index <= numberOfApps - maxIconCount) {
                            if (img.is(':visible')) {
                                img.animate({
                                    'bottom': "",
                                    'right': "",
                                    'opacity': 0
                                }, 'fast', function() {
                                    img.hide();
                                });

                            } else {
                                //Setting
                                var option = {
                                    'opacity': 1,
                                    'bottom': 72 + index % maxIconCount * 52
                                };

                                option[(align == 'left' ? 'left' : 'right')] = 52 + 16 + Math.floor(index / maxIconCount) * 52;
                                option[(align == 'left' ? 'right' : 'left')] = "auto";
                                img.show().animate(option, 'fast');
                            }
                        }
                    });
                });

            if (numberOfApps > maxIconCount) {
                more.appendTo(anchor);
            }

            $(window).resize(function() {
                maxIconCount = Math.floor((window.innerHeight - 130) / 52);
                if (numberOfApps > maxIconCount) {
                    more.appendTo(anchor);
                } else {
                    more.detach();
                }
            });


            launcher.click(function() {
                $('#keyreply-container > .keyreply-chat-icon').each(function(index, img) {
                    img = $(img);
                    if (launcher.is('.keyreply-launcher-active')) {
                        img.animate({
                            'bottom': 20,
                            'right': 16,
                            'opacity': 0
                        }, 'fast', function() {
                            img.css('right', '')
                                .css('bottom', '')
                                .hide();
                        });

                    } else {
                        if (numberOfApps > maxIconCount) {
                            if (index > numberOfApps - maxIconCount) {
                                img.show().animate({
                                    'opacity': 1,
                                    'bottom': 72 + (maxIconCount - ((numberOfApps - index) % maxIconCount) - 1) * 52,
                                }, 'fast');
                            }
                        } else {
                            img.show().animate({
                                'opacity': 1,
                                'bottom': 72 + index * 52,
                            }, 'fast');
                        }
                    }
                });

                if (!launcher.is('.keyreply-launcher-active')) {
                    $.get(settings.tags.event);
                }

                launcher.toggleClass('keyreply-launcher-active');
            });
        }

        $('.keyreply-chat-icon, .keyreply-overlay-chat-icon').each(function(index, icon) {
            var link, qr, app = $(icon);
            var container = $('<div>').addClass('keyreply-qr');
            switch (app.data('type')) {              
    
                case 'telegram':
                    link = "https://t.me/" + settings.apps.telegram.replace('@', '');
                    break;             

                default:
                    break;
            }

            if (qr) {
                app.append(container);
            }

            app.click(function(event) {
                event.stopPropagation();

                if (qr) {
                    if (app.is('.keyreply-panel')) {
                        app.removeClass('keyreply-panel');
                        app.find('.keyreply-qr').removeClass('active');
                    } else {
                        app.siblings().removeClass('keyreply-panel');
                        app.addClass('keyreply-panel');
                        app.find('.keyreply-qr').addClass('active');
                    }
                }

                if (link) {
                    app.siblings().removeClass('keyreply-panel');

                    if (Mobile) {
                        window.location = link;
                    } else {
                        var a = $('<a>').attr('target', '_blank').attr('href', link);
                        a.appendTo(anchor)[0].click();
                        a.detach();
                    }
                }
            });
        });

        window.initializeKeyreply = init;
        return true;
    }
})();

</script>
</body>
</html> 
